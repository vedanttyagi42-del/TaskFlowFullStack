{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///home/veduuvada/TaskFlowGit/TaskFlow/src/lib/db.js"],"sourcesContent":["import { Pool } from \"pg\";\n\nexport const pool = new Pool({\n  user: \"postgres\",\n  host: \"switchback.proxy.rlwy.net\",\n  database: \"railway\",\n  password: \"eWQWOEZqwWJBBZgELqWPOvMDUWluUycE\",\n  port: 15983,\n});\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEO,MAAM,OAAO,IAAI,4GAAI,CAAC;IAC3B,MAAM;IACN,MAAM;IACN,UAAU;IACV,UAAU;IACV,MAAM;AACR"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/veduuvada/TaskFlowGit/TaskFlow/src/app/api/login/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport { pool } from \"@/lib/db\";\n\nexport async function POST(req) {\n  const { email, password } = await req.json();\n\n  const result = await pool.query(\n    \"SELECT * FROM users WHERE email=$1 LIMIT 1\",\n    [email]\n  );\n\n  if (result.rowCount === 0)\n    return NextResponse.json({ error: \"User not found\" }, { status: 400 });\n\n  const user = result.rows[0];\n  const match = await bcrypt.compare(password, user.password);\n\n  if (!match)\n    return NextResponse.json({ error: \"Invalid password\" }, { status: 400 });\n\n  const token = jwt.sign(\n    { email: user.email, username: user.username },\n    process.env.JWT_SECRET\n  );\n\n  const res = NextResponse.json({ success: true });\n\n  res.cookies.set(\"token\", token, {\n    httpOnly: true,\n    secure: true,\n    sameSite: \"lax\",\n    path: \"/\",\n  });\n\n  return res;\n}\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAEA;AACA;;;;;;;;;AAEO,eAAe,KAAK,GAAG;IAC5B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAE1C,MAAM,SAAS,MAAM,0HAAI,CAAC,KAAK,CAC7B,8CACA;QAAC;KAAM;IAGT,IAAI,OAAO,QAAQ,KAAK,GACtB,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAiB,GAAG;QAAE,QAAQ;IAAI;IAEtE,MAAM,OAAO,OAAO,IAAI,CAAC,EAAE;IAC3B,MAAM,QAAQ,MAAM,OAAO,OAAO,CAAC,UAAU,KAAK,QAAQ;IAE1D,IAAI,CAAC,OACH,OAAO,gJAAY,CAAC,IAAI,CAAC;QAAE,OAAO;IAAmB,GAAG;QAAE,QAAQ;IAAI;IAExE,MAAM,QAAQ,kJAAG,CAAC,IAAI,CACpB;QAAE,OAAO,KAAK,KAAK;QAAE,UAAU,KAAK,QAAQ;IAAC,GAC7C,QAAQ,GAAG,CAAC,UAAU;IAGxB,MAAM,MAAM,gJAAY,CAAC,IAAI,CAAC;QAAE,SAAS;IAAK;IAE9C,IAAI,OAAO,CAAC,GAAG,CAAC,SAAS,OAAO;QAC9B,UAAU;QACV,QAAQ;QACR,UAAU;QACV,MAAM;IACR;IAEA,OAAO;AACT"}}]
}